(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[740],{4941:function(e,t,s){Promise.resolve().then(s.bind(s,277))},277:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return c}});var i=s(7437),a=s(2265),r=s(2141);function c(){let[e,t]=(0,a.useState)([]),[s,c]=(0,a.useState)(!0);return((0,a.useEffect)(()=>{async function e(){try{let{data:e,error:s}=await r.O.from("visitor_logs").select("*").order("timestamp",{ascending:!1});if(s){console.error("Error fetching logs:",s);return}t(e||[])}catch(e){console.error("Failed to fetch logs:",e)}finally{c(!1)}}e();let s=r.O.channel("visitor_logs_changes").on("postgres_changes",{event:"*",schema:"public",table:"visitor_logs"},()=>{e()}).subscribe();return()=>{s.unsubscribe()}},[]),s)?(0,i.jsx)("div",{className:"min-h-screen bg-gray-100 p-8 flex items-center justify-center",children:(0,i.jsx)("div",{className:"text-xl text-gray-600",children:"Loading visitor logs..."})}):(0,i.jsx)("div",{className:"min-h-screen bg-gray-100 p-8",children:(0,i.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,i.jsx)("h1",{className:"text-3xl font-bold mb-8",children:"Visitor Statistics"}),(0,i.jsxs)("div",{className:"bg-white shadow-lg rounded-lg overflow-hidden",children:[(0,i.jsx)("div",{className:"p-4 border-b",children:(0,i.jsxs)("p",{className:"text-gray-500",children:["Total Visits: ",e.length]})}),(0,i.jsx)("div",{className:"overflow-x-auto",children:(0,i.jsxs)("table",{className:"min-w-full",children:[(0,i.jsx)("thead",{className:"bg-gray-50",children:(0,i.jsxs)("tr",{children:[(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"IP Address"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date & Time"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Operating System"}),(0,i.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Browser"})]})}),(0,i.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,i.jsxs)("tr",{children:[(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.ip}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.timestamp).toLocaleString()}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.os}),(0,i.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:e.browser})]},e.id))})]})})]})]})})}},2141:function(e,t,s){"use strict";s.d(t,{O:function(){return i}});let i=(0,s(3777).eI)("https://rvwheasxzdljqebfgcax.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InJ2d2hlYXN4emRsanFlYmZnY2F4Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3MzI3MTEyNjUsImV4cCI6MjA0ODI4NzI2NX0.ggqik1kMyJEAtzwk72iaQzWBTRiYETDI_JMKgLlvv3w")}},function(e){e.O(0,[777,971,117,744],function(){return e(e.s=4941)}),_N_E=e.O()}]);